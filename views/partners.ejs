<!DOCTYPE html>
<html lang="eu">
    <head>
        <title>Let's Party Partners</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="/css/main.css">
    </head>
    <body style="background-image: url('../photos/overlay.png'), linear-gradient(to bottom,#21293100, #21293127,#21293150,#21293153,#2129317c,#212931b0,#212931af,#212931cb,#212931ee,#212931fd), url('../photos/fiesta3.jpg');background-size: cover;">
        <div id="wrapper">
            <div>
                <center><img src="../iconpng/officiaLogo.png" style="height: fit-content;" id="logos" ></center>
                <center><iframe style="border-radius:12px; width: 500px;" src="https://open.spotify.com/embed/playlist/37i9dQZF1DX2ENAPP1Tyed?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe></center>
                <center><h2 style="color: white">Experience the night. Discover our partner clubs.</h2></center>
            </div><br/><br/>
            <nav id="nav">
                <ul class="links">
                    <li ><a href="/">About Us</a></li>
                    <li><a href="/users/map">MAP</a></li>
                <li><a href="/socialNetwork">SOCIAL NETWORK</a></li>
                <li><a href="../FutureProject.html">FUTURE PROJECTS</a></li>
                <li><a href="/users/login">Login</a></li>
                <li><a href="../contacts.html">CONTACTS</a></li>
                <li><a href="/users/profile">PROFILE</a></li>
                <li class="active"><a href="/users/partners">PARTNERS</a></li>
                </ul>
            </nav>
            <footer id="footer" style="background-color: transparent;">
                <div class="partners-container">
                    <% const filteredClubs = [];

                    clubs.forEach((club) => {
                        if (club.thumbnail !== undefined && club.rating !== undefined) {
                            const isDuplicate = filteredClubs.some(existingClub => existingClub.title === club.title);
                            if (!isDuplicate) filteredClubs.push(club);
                        }
                    }); 
                    
                    filteredClubs.sort((a, b) => b.rating - a.rating); %>
                    <div class="gallery">
                        <% filteredClubs.forEach((club, index) => { %>
                                <div class="club">
                                    <img src="<%= club.thumbnail %>" alt="<%= club.title %>" class="club-image" data-website="<%= club.website !== undefined ? club.website : '' %>" data-index="<%= index %>">
                                </div>
                        <% }); %>
                    </div>
    
                    <hr style="border: 1px solid #ccc; margin: 0 20px;">

                    <div class="rankings">
                        <h2>Top Clubs</h2>
                        <ol>
                            <% filteredClubs.forEach((club, index) => { %>
                                <li class="club-ranking" data-index="<%= index %>">
                                    <h5><%= club.title %> (<%= club.rating %>â˜…)</h5>
                                </li>
                            <% }); %>
                        </ol>
                    </div>
                </div>
                
            </footer>
        </div>
        <!-- Scripts -->
        <script src="../javascript/jquery.min.js"></script>
        <script src="../javascript/jquery.scrollex.min.js"></script>
        <script src="../javascript/jquery.scrolly.min.js"></script>
        <script src="../javascript/browser.min.js"></script>
        <script src="../javascript/breakpoints.min.js"></script>
        <script src="../javascript/util.js"></script>
        <script src="../javascript/main.js"></script>
        <script src="../javascript/image.js"></script>
        <script src="../javascript/partners.js"></script>
        
    </body>
</html>